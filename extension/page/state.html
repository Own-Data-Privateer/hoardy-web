<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>pWebArc: Internal State</title>
    <link rel="shortcut icon" type="image/svg" href="../icon/main.svg">
    <link rel="stylesheet" href="main.css?v=1">
    <style>
h1 {
    font-size: 200%;
    margin: 0;
    margin-top: 5px;
    display: flex;
}

#help {
    margin-left: 1em;
}

.help-tip {
    max-width: 40em;
}

table, th, td {
    border: 1px solid black;
}

table {
    margin: 1em 0;
    width: 100%;
}

td.long {
    line-break: anywhere;
}
    </style>
  </head>
  <body>
    <div id="body_loading">
      <p>Loading...</p>
    </div>
    <div id="body_error" style="display: none">
      <p>This page failed to initialize. To see more details:</p>
      <ul>
        <li>On Firefox-based browser: go to <code>about:debugging#/runtime/this-firefox</code>, click &quot;Inspect&quot; button on &quot;pWebArc&quot;, select &quot;Console&quot;</li>
        <li>On Chromium-based browser: go to <code>chrome://extensions/</code>, click &quot;Inspect views&quot; link on &quot;pWebArc&quot;, select &quot;Console&quot;</li>
      </ul>
    </div>
    <div id="body" style="display: none">
    <span id="top" />
    <h1 id="in_flight">In flight
      <span data-help="Open the help page."><input type="button" id="help" value="Help" /></span>
      <span class="right">
        <span data-help="Stop tracking progress of all in-flight requests displayed below and either pick or drop them, depending on their completion and &quot;Pick reqres for archival when they finish&quot; options in the settings popup."><input type="button" id="stopAllInFlight" value="Stop tracking all" /></span>
      </span>
    </h1>
    <table><tbody id="data_in_flight"></tbody></table>

    <h1 id="problematic">Problematic
      <span class="right">
        <span data-help="Unset `problematic` flag from all reqres below."><input type="button" id="unmarkProblematic" value="Unmark all" /></span>
      </span>
    </h1>
    <table><tbody id="data_problematic"></tbody></table>

    <h1 id="in_limbo">In limbo
      <span class="right">
        <span data-help="Discard the first reqres below."><input type="button" id="discardOneInLimbo" value="Discard the first one" /></span>
        <span data-help="Discard all reqres below."><input type="button" id="discardAllInLimbo" value="Discard all" /></span>
      </span>
    </h1>
    <div>
      <span data-help="Collect the first reqres below."><input type="button" id="collectOneInLimbo" value="Collect the first one" /></span>
      <span data-help="Collect all reqres below."><input type="button" id="collectAllInLimbo" value="Collect all" /></span>
    </div>
    <table><tbody id="data_in_limbo"></tbody></table>

    <h1 id="log">Log
      <span class="right">
        <span data-help="Forget about all the requests below."><input type="button" id="forgetHistory" value="Forget all" /></span>
      </span>
    </h1>
    <table><tbody id="data_log"></tbody></table>
    <!-- This anchor goes here, because we usually want to see the tail of the log. -->
    <span id="bottom" />
    </div>

    <script src="../lib/compat.js"></script>
    <script src="../lib/utils.js"></script>
    <script src="../lib/lutils.js"></script>
    <script src="state.js"></script>
  </body>
</html>
